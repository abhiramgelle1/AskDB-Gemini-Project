DataPrompt - Test Query Suggestions
===================================

Comprehensive list of test queries to check all features of your chatbot.

================================================================================
1. SIMPLE QUERIES (Basic Functionality)
================================================================================

1.1 Count Queries:
------------------
- "How many records are in acs_demographics?"
- "How many rows are in acs_housing?"
- "Count the number of records in acs_demographics"
- "How many states are in the database?"

1.2 Basic Selection:
--------------------
- "Show me the first 5 rows from acs_demographics"
- "Display the first 10 records from acs_housing"
- "List all states"
- "Show me all counties"

1.3 Simple Filters:
-------------------
- "Show records from California"
- "Find all records where Geo_STUSAB is 'CA'"
- "List all records from Georgia"
- "Show me data for New York"

================================================================================
2. AGGREGATION QUERIES (SUM, COUNT, AVG)
================================================================================

2.1 Population Aggregations:
----------------------------
- "What is the total population in California?"
- "Sum the total population for all records"
- "Calculate the average population per state"
- "What's the total population in acs_demographics?"

2.2 Housing Aggregations:
-------------------------
- "Sum total housing units for California"
- "What is the average number of housing units?"
- "Calculate total housing units by state"
- "Sum ACS23_5yr_B25140I001 for all records"

2.3 Group By Queries:
---------------------
- "Count records by state"
- "Show total population grouped by state"
- "Group housing data by state"
- "Count how many records are in each state"

================================================================================
3. GEOGRAPHIC QUERIES (Testing Geo_* Columns)
================================================================================

3.1 State Queries:
------------------
- "Show me all records from California"
- "List all states in the database"
- "Find records for state code 'CA'"
- "What states are available in the data?"

3.2 County Queries:
-------------------
- "Show me all counties in California"
- "List counties in Georgia"
- "Find records for county FIPS 001"
- "What counties exist in the database?"

3.3 Place Name Searches:
------------------------
- "Find places containing 'San Francisco'"
- "Show me records with 'Los Angeles' in the name"
- "Search for places with 'Atlanta' in the name"
- "Find locations containing 'New York'"

3.4 Geographic Joins:
---------------------
- "Show state names for all records"
- "Get county names for California records"
- "List state names with their codes"
- "Show me counties with their state names"

================================================================================
4. COMPLEX QUERIES (JOINs, Multiple Tables)
================================================================================

4.1 Join with States Table:
----------------------------
- "Show state names for all demographic records"
- "List all records with their state names"
- "Get California records with state name"
- "Show demographics with human-readable state names"

4.2 Join with Counties Table:
------------------------------
- "Show county names for all records"
- "Get county names for Georgia records"
- "List records with county and state names"
- "Show me counties with their state names"

4.3 Multi-Table Joins:
----------------------
- "Show records with both state and county names"
- "Get demographics with state and county information"
- "List all records with complete geographic information"

================================================================================
5. FILTERING AND WHERE CLAUSES
================================================================================

5.1 Single Condition:
---------------------
- "Show records where Geo_STUSAB equals 'CA'"
- "Find all records for state 'GA'"
- "List records with Geo_STATE = '06'"
- "Show data for county FIPS 001"

5.2 Multiple Conditions:
------------------------
- "Find records for California and county 001"
- "Show data for state 06 and county 001"
- "List records for Georgia state code"
- "Get records where state is CA and county is 037"

5.3 LIKE/ILIKE Searches:
------------------------
- "Find places with 'San' in the name"
- "Search for locations containing 'Los'"
- "Show records where Geo_qname contains 'County'"
- "Find places matching 'Atlanta'"

================================================================================
6. DISTINCT AND UNIQUE VALUES
================================================================================

- "List distinct state codes"
- "Show unique Geo_STUSAB values"
- "What are the distinct county codes?"
- "List all unique state names"
- "Show distinct Geo_STATE codes"

================================================================================
7. TOP/LIMIT QUERIES
================================================================================

- "Show the top 10 records"
- "Display the first 20 rows"
- "List top 5 states by population"
- "Show me the first 50 records"
- "Get top 10 results"

================================================================================
8. ORDER BY QUERIES (Sorting)
================================================================================

- "Show records sorted by state code"
- "List states in alphabetical order"
- "Display records ordered by Geo_STUSAB"
- "Show top 10 states by record count"
- "Sort records by state name"

================================================================================
9. FOLLOW-UP QUESTIONS (Context Testing)
================================================================================

Test Conversation Flow:

Question 1: "Show me California population data"
Follow-up 2: "What about housing data?" 
  → Should understand "California" context

Question 1: "Show records from Georgia"
Follow-up 2: "What about counties?"
  → Should understand "Georgia" context

Question 1: "List all states"
Follow-up 2: "Show me their population"
  → Should understand "states" from previous

Question 1: "Count records by state"
Follow-up 2: "What about housing?"
  → Should understand previous query context

Question 1: "Show me California"
Follow-up 2: "What does that mean?"
  → Should refer to California data

================================================================================
10. PRONOUN FOLLOW-UP QUESTIONS
================================================================================

Question 1: "Show me California population"
Follow-up 2: "What about those counties?"
  → Should understand "California counties"

Question 1: "List all states"
Follow-up 2: "Show me them sorted"
  → Should understand "states"

Question 1: "Get county data for Georgia"
Follow-up 2: "What about it?"
  → Should understand "Georgia county data"

Question 1: "Show population data"
Follow-up 2: "List them all"
  → Should understand "population data"

================================================================================
11. COLUMN-SPECIFIC QUERIES (Testing ACS Column Knowledge)
================================================================================

11.1 Population Columns (B01001*):
----------------------------------
- "Show me ACS23_5yr_B01001_001E for California"
- "What is the total population (B01001_001E) in California?"
- "Sum ACS23_5yr_B01001_001E for all records"
- "Show male population (B01001_002E) by state"

11.2 Housing Columns (B25140*):
--------------------------------
- "What is ACS23_5yr_B25140I001 for Georgia?"
- "Show total housing units (B25140I001) by state"
- "Calculate average housing units"
- "Sum B25140I001 for California"

11.3 Geographic Columns (Geo_*):
---------------------------------
- "List all Geo_STUSAB values"
- "Show me Geo_STATE codes"
- "What are the distinct Geo_COUNTY values?"
- "Display Geo_qname for all records"

================================================================================
12. ERROR SCENARIO TESTS (Self-Correction Testing)
================================================================================

12.1 Wrong Column Names (Should Auto-Correct):
----------------------------------------------
- "Show me wrong_column_name from acs_demographics"
  → Should auto-correct to valid column

- "Sum invalid_column for California"
  → Should fix column name

12.2 Wrong Table Names (Should Auto-Correct):
---------------------------------------------
- "Select * from wrong_table_name"
  → Should correct to valid table

- "Count records in non_existent_table"
  → Should map to correct table

12.3 Syntax Issues (Should Auto-Correct):
-----------------------------------------
- "Show me all records where state equals CA"
  → Should fix SQL syntax

================================================================================
13. DEFINITIONAL QUESTIONS (Testing Explanation Feature)
================================================================================

- "What does B01001A011 mean?"
- "Explain what B01001_001E represents"
- "What is the meaning of Geo_STUSAB?"
- "Tell me about ACS23_5yr_B25140I001"
- "What does that mean?" (as follow-up to column query)

================================================================================
14. VAGUE QUESTIONS (Testing Column Suggestions)
================================================================================

- "Tell me about population"
  → Should suggest relevant population columns

- "Show me housing information"
  → Should suggest housing columns

- "What data do you have about income?"
  → Should suggest income-related columns

- "Tell me about demographics"
  → Should suggest demographic columns

================================================================================
15. COMPLEX ANALYTICAL QUERIES
================================================================================

15.1 Comparisons:
-----------------
- "Compare population between California and Georgia"
- "Show population difference between states"
- "Which state has more records?"
- "Compare housing data for different states"

15.2 Rankings:
--------------
- "What are the top 5 states by population?"
- "Show top 10 counties by housing units"
- "List states ranked by record count"
- "Which states have the most records?"

15.3 Aggregations with Filters:
--------------------------------
- "Sum population for all California counties"
- "Calculate average housing units per state"
- "Total population for state code 'GA'"
- "Average population per county in California"

================================================================================
16. EDGE CASES AND BOUNDARY CONDITIONS
================================================================================

16.1 No Results:
----------------
- "Show records for state 'XX'" (invalid state)
- "Find records where Geo_STUSAB = 'ZZ'"
- "Search for places containing 'NonExistentCity'"

16.2 Empty/Null Handling:
-------------------------
- "Show records with null population values"
- "Find records with empty Geo_qname"
- "List records where population is missing"

16.3 Large Result Sets:
-----------------------
- "Show me all records" (should paginate)
- "List every record in acs_demographics"
- "Display all housing records"

================================================================================
17. MULTI-PART QUESTIONS
================================================================================

- "Show me population and housing data for California"
- "List state names and their record counts"
- "Get county names and populations for Georgia"
- "Show me demographics with state and county names"

================================================================================
18. TESTING SPECIFIC FEATURES
================================================================================

18.1 Column Suggestions (Vague Questions):
-------------------------------------------
✅ Test: "Tell me about population"
   Expected: System suggests relevant ACS population columns

✅ Test: "What housing data do you have?"
   Expected: System suggests housing-related columns

18.2 Query Suggestions (After Results):
---------------------------------------
✅ Test: Ask any question, then check suggestions
   Expected: System suggests 3-5 related follow-up questions

18.3 Self-Correction:
---------------------
✅ Test: Ask with wrong column name
   Expected: System auto-corrects and retries

✅ Test: Use invalid table name
   Expected: System fixes and regenerates SQL

18.4 Context Retention:
-----------------------
✅ Test: Ask question, then follow-up with pronoun
   Expected: System understands context from previous question

✅ Test: Multiple follow-up questions
   Expected: System maintains context across turns

================================================================================
19. RECOMMENDED TESTING SEQUENCE
================================================================================

Test 1: Basic Functionality
---------------------------
1. "How many records are in acs_demographics?"
2. "Show me the first 5 rows from acs_demographics"
3. "List all states"

Test 2: Filtering
-----------------
4. "Show records from California"
5. "Find places containing 'San Francisco'"
6. "Get records for state code 'CA'"

Test 3: Aggregations
--------------------
7. "Count records by state"
8. "Sum total population for California"
9. "What is the average population?"

Test 4: Joins
-------------
10. "Show state names for all records"
11. "Get county names for California"
12. "List records with state and county names"

Test 5: Context (Follow-ups)
----------------------------
13. "Show California population data"
14. "What about housing data?" (should understand California)
15. "List all counties" (should maintain context)

Test 6: Pronoun Resolution
--------------------------
16. "Show me all states"
17. "What about their population?" (should understand "states")
18. "List them sorted" (should understand previous)

Test 7: Error Handling
----------------------
19. "Show wrong_column from acs_demographics" (test auto-correction)
20. "Select * from invalid_table" (test table validation)

Test 8: Suggestions
-------------------
21. "Tell me about population" (test column suggestions)
22. Ask any question, check query suggestions appear

Test 9: Definitional Questions
------------------------------
23. "What does B01001_001E mean?"
24. "Explain Geo_STUSAB"

Test 10: Complex Queries
------------------------
25. "Show top 10 states by population"
26. "Compare California and Georgia population"
27. "Sum housing units grouped by state"

================================================================================
20. QUICK TEST CHECKLIST
================================================================================

Basic Tests:
□ Count query works
□ Simple SELECT works
□ Filtering by state works
□ Geographic searches work

Advanced Tests:
□ Aggregations (SUM, COUNT, AVG) work
□ GROUP BY queries work
□ JOINs with reference tables work
□ DISTINCT queries work
□ ORDER BY and LIMIT work

Feature Tests:
□ Follow-up questions maintain context
□ Pronoun resolution works ("them", "those", "it")
□ Column suggestions appear for vague questions
□ Query suggestions appear after results
□ Self-correction fixes errors automatically
□ Table validation prevents invalid queries

Error Handling:
□ Wrong column names auto-correct
□ Wrong table names auto-correct
□ Rate limit errors retry automatically
□ User-friendly error messages shown

Performance:
□ Queries execute in reasonable time
□ Large results are paginated (50 rows)
□ Multiple questions work in sequence

================================================================================
21. SPECIFIC ACS DATA TEST QUERIES
================================================================================

Based on your ACS database schema:

21.1 Population Queries:
------------------------
- "What is the total population (ACS23_5yr_B01001_001E) in California?"
- "Sum ACS23_5yr_B01001_001E for all records where Geo_STUSAB = 'CA'"
- "Show me population data for Georgia"
- "Calculate total population by state"
- "What's the average population per record?"

21.2 Housing Queries:
---------------------
- "Show me housing data (ACS23_5yr_B25140I001) for California"
- "Sum total housing units for Georgia"
- "Calculate average housing units per state"
- "Show housing data grouped by state"

21.3 Geographic Queries:
------------------------
- "List all distinct state codes (Geo_STUSAB)"
- "Show me all county FIPS codes (Geo_COUNTY)"
- "Find places containing 'Atlanta' in Geo_qname"
- "Search for 'San Francisco' in geographic names"

21.4 Combined Queries:
----------------------
- "Show population and housing data for California"
- "List state names with their population totals"
- "Get county names with population for Georgia"
- "Show me complete geographic and demographic data"

================================================================================

Use these queries to thoroughly test all features of your DataPrompt chatbot!

